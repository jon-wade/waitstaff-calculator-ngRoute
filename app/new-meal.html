<div ng-controller="nmCtrl">
    <section id="meal-details">
        <h2>Enter the Meal Details</h2>
        <form id="mealInput" name="form" ng-submit="submit()" novalidate>
            <div>
                <label for="base-meal-price">Base Meal Price: $</label>
                <input id="base-meal-price" name="baseMealPrice" ng-model="baseMealPrice" required ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/">
            </div>
            <div>
                <label for="tax-rate">Tax Rate: %</label>
                <input id="tax-rate" name="taxRate" ng-model="taxRate" required ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/">
            </div>
            <div>
                <label for="tip-percentage" type="number">Tip Percentage: %</label>
                <input id="tip-percentage" name="tipPercentage" ng-model="tipPercentage" required ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/">
            </div>
            <div id="meal-submit">
                <button id="meal-submit-button">Submit</button>
            </div>
        </form>
        <button id="meal-cancel-button" ng-click="cancel()">Cancel</button>
    </section>
    </section>
    <section id="customer-charges">
        <h2>Customer Charges</h2>
        <ul id="customer-charges-list">
            <li>
                <span class="label">Subtotal</span>
            </li>
            <li>
                <span class="label">Tip</span>
            </li>
            <li>
                <span class="label border">Total</span>
            </li>
        </ul>
        <ul id="customer-charges-amount">
            <li>
                <span class="value">{{subTotal | currency}}</span>
            </li>
            <li>
                <span class="value">{{tip | currency}}</span>
            </li>
            <li>
                <span class="value">{{customerTotal | currency}}</span>
            </li>
        </ul>
    </section>
    <section id="error-messages" ng-show='err' ng-if="form.$invalid">
        <h2>You have errors in your meal form!!</h2>
        <ul id="error-list">
            <li ng-if="form.baseMealPrice.$error.required">You need to input a base meal price amount.</li>
            <li ng-if="form.baseMealPrice.$error.pattern">You need to input a base meal price amount in dollars (and cents if applicable).</li>
            <li ng-if="form.taxRate.$error.required">You need to input a tax rate amount.</li>
            <li ng-if="form.taxRate.$error.pattern">You need to input a tax rate percentage (up to 2 decimal places).</li>
            <li ng-if="form.tipPercentage.$error.required">You need to input a tip percentage amount.</li>
            <li ng-if="form.tipPercentage.$error.pattern">You need to input a tip percentage (up to 2 decimal places).</li>
        </ul>
    </section>
</div>

